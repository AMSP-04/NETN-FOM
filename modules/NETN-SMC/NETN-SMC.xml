<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<objectModel xsi:schemaLocation="http://standards.ieee.org/IEEE1516-2010 http://standards.ieee.org/downloads/1516/1516.2-2010/IEEE1516-DIF-2010.xsd" xmlns="http://standards.ieee.org/IEEE1516-2010" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <modelIdentification notes="netn-smc_overview">
        <name>NETN-SMC</name>
        <type>FOM</type>
        <version>1.0</version>
        <modificationDate>2023-11-20</modificationDate>
        <securityClassification>Not Classified</securityClassification>
        <purpose>The NATO Education and Training Service Management and Control (NETN-SMC) module provides a standard way to send control actions in a federated simulation. Control actions are interactions targeting the federation, an individual federate, or an individual simulated entity.</purpose>
        <applicationDomain></applicationDomain>
        <description>In a federated distributed simulation, the participating systems (federates) provide services to model aspects of the synthetic environment. To simulate model change, these services use operator input, data published in the federation, and the passing of scenario time.</description>
        <useLimitation>The NETN-SMC module provides methods to interact with services using control actions and defines a Request-Response pattern. The control actions described in this module form the basis for subclassing more specific actions in other FOM modules.</useLimitation>
        <useHistory notes="netn-smc_changelog">v1.0 - Version developed by MSG-191. Release included in NETN FOM v4.0</useHistory>
        <poc>
            <pocType>Release authority</pocType>
            <pocName>NATO Modelling and Simulation Group</pocName>
            <pocOrg>NATO Science and Technology Organization</pocOrg>
            <pocEmail>msg@cso.nato.int</pocEmail>
        </poc>
        <poc>
            <pocType>Primary author</pocType>
            <pocName>MSG-191 NATO Standards for Federated Simulation and Services for Integration, Verification and Certification</pocName>
            <pocOrg>NATO Modelling and Simulation Group</pocOrg>
            <pocEmail>msg@cso.nato.int</pocEmail>
        </poc>
        <poc>
            <pocType>Primary author</pocType>
            <pocName>MSG-223 Evolving M&amp;S applications and services for compliance with NATO standards for federated simulation</pocName>
            <pocOrg>NATO Modelling and Simulation Group</pocOrg>
            <pocEmail>msg@cso.nato.int</pocEmail>
        </poc>
        <reference>
            <type>Dependency</type>
            <identification>NETN-BASE</identification>
        </reference>
        <other>
Copyright Â© 2023 by NATO/OTAN. All rights reserved.
This work is licensed under a Creative Commons Attribution-NoDerivatives 4.0 International License.

Above license gives you the right to use and redistribute this FOM Module (XML file and Documentation) in its entirety without modification. You are also allowed to develop your own new FOM Modules (in separate XML files and separate documentation) that build-on/extends this FOM module by reference. You are NOT allowed to modify this FOM Module or its documentation without prior permission by the NATO Modelling and Simulation Group.</other>
        <glyph type="png" height="48" width="48" alt="">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</glyph>
    </modelIdentification>
    <objects>
        <objectClass>
            <name>HLAobjectRoot</name>
            <objectClass>
                <name>SMC_Service</name>
                <sharing>Neither</sharing>
                <semantics>Represents a service the referenced federate provides with additional information regarding supported control actions.</semantics>
                <attribute>
                    <name>Federate</name>
                    <dataType>FederateName</dataType>
                    <updateType>Static</updateType>
                    <updateCondition>NA</updateCondition>
                    <ownership>DivestAcquire</ownership>
                    <sharing>PublishSubscribe</sharing>
                    <transportation>HLAreliable</transportation>
                    <order>Receive</order>
                    <semantics>Required: The federate providing the service.</semantics>
                </attribute>
                <attribute>
                    <name>SupportedActions</name>
                    <dataType>FederateControlActions</dataType>
                    <updateType>Conditional</updateType>
                    <updateCondition>On change</updateCondition>
                    <ownership>DivestAcquire</ownership>
                    <sharing>PublishSubscribe</sharing>
                    <transportation>HLAreliable</transportation>
                    <order>Receive</order>
                    <semantics>Required: Indicates which SMC control actions are supported by the referenced federate.</semantics>
                </attribute>
            </objectClass>
            <objectClass>
                <name>BaseEntity</name>
                <sharing>Subscribe</sharing>
                <semantics>A base class of aggregate and discrete scenario domain participants. The BaseEntity class is characterized by being located at a particular location in space and independently movable, if capable of movement at all. It specifically excludes elements normally considered to be a component of another element. The BaseEntity class is intended to be a container for common attributes for entities of this type. Since it lacks sufficient class specific attributes that are required for simulation purposes, federates cannot publish objects of this class. Certain simulation management federates, e.g. viewers, may subscribe to this class. Simulation federates will normally subscribe to one of the subclasses, to gain the extra information required to properly simulate the entity.</semantics>
                <attribute>
                    <name>SupportedActions</name>
                    <dataType>EntityControlActions</dataType>
                    <updateType>Conditional</updateType>
                    <updateCondition>On change</updateCondition>
                    <ownership>DivestAcquire</ownership>
                    <sharing>PublishSubscribe</sharing>
                    <transportation>HLAreliable</transportation>
                    <order>Receive</order>
                    <semantics>Optional: Indicates what control actions are supported by an individual simulated entity.</semantics>
                </attribute>
            </objectClass>
        </objectClass>
    </objects>
    <interactions>
        <interactionClass>
            <name>HLAinteractionRoot</name>
            <interactionClass>
                <name>SMC_FederationControl</name>
                <sharing>Neither</sharing>
                <transportation>HLAreliable</transportation>
                <order>Receive</order>
                <semantics>Base class for all control actions applicable to all federates in the federation. The inherited NETN-BASE `UniqueId` parameter is used to match this interaction with a corresponding `SMC_Response`.</semantics>
            </interactionClass>
            <interactionClass>
                <name>SMC_FederateControl</name>
                <sharing>Neither</sharing>
                <transportation>HLAreliable</transportation>
                <order>Receive</order>
                <semantics>Base class for all control actions directed to a specific federate. The inherited NETN-BASE `UniqueId` parameter matches this interaction with a corresponding `SMC_Response`. Before sending this interaction, use the `SMC_Service` object attribute `SupportedActions` to determine if the referenced federate supports the action.</semantics>
                <parameter>
                    <name>Federate</name>
                    <dataType>FederateName</dataType>
                    <semantics>Required: The federate intended as the receiver of this control action.</semantics>
                </parameter>
            </interactionClass>
            <interactionClass>
                <name>SMC_EntityControl</name>
                <sharing>Neither</sharing>
                <transportation>HLAreliable</transportation>
                <order>Receive</order>
                <semantics>Control action intended for a federate with primary modelling responsibility for the referenced entity. The inherited NETN-BASE `UniqueId` parameter matches this interaction with a corresponding `SMC_Response`. Before sending this interaction, use the NETN-SMC `BaseEntity` object attribute `SupportedActions` to determine if the referenced entity supports the action.</semantics>
                <parameter>
                    <name>Entity</name>
                    <dataType>UUID</dataType>
                    <semantics>Required: Reference to a simulation entity for which the control action is intended.</semantics>
                </parameter>
            </interactionClass>
            <interactionClass>
                <name>SMC_Response</name>
                <sharing>PublishSubscribe</sharing>
                <transportation>HLAreliable</transportation>
                <order>Receive</order>
                <semantics>The response indicates whether the related action was accepted or rejected/failed by a federate. A single response per sent action is expected.</semantics>
                <parameter>
                    <name>Action</name>
                    <dataType>UUID</dataType>
                    <semantics>Required: Reference to the control action this is a response to. The reference corresponds to the NETN-BASE `UniqueId` parameter of the control action interaction.</semantics>
                </parameter>
                <parameter>
                    <name>Status</name>
                    <dataType>HLAboolean</dataType>
                    <semantics>Required: Indicates success or failure of a corresponding control action.</semantics>
                </parameter>
            </interactionClass>
        </interactionClass>
    </interactions>
    <dataTypes>
        <enumeratedDataTypes>
            <enumeratedData>
                <name>FederateControlActionEnum</name>
                <representation>HLAinteger32BE</representation>
                <semantics>Enumeration of Federate Control Actions. The datatype is expected to be extended in specific modules defining additional actions.</semantics>
                <enumerator>
                    <name>Other</name>
                    <value>0</value>
                </enumerator>
            </enumeratedData>
            <enumeratedData>
                <name>EntityControlActionEnum</name>
                <representation>HLAinteger32BE</representation>
                <semantics>Enumeration of Entity Control Actions. The datatype is expected to be extended in specific modules defining additional actions.</semantics>
                <enumerator>
                    <name>Other</name>
                    <value>0</value>
                </enumerator>
            </enumeratedData>
        </enumeratedDataTypes>
        <arrayDataTypes>
            <arrayData>
                <name>FederateControlActions</name>
                <dataType>FederateControlActionEnum</dataType>
                <cardinality>Dynamic</cardinality>
                <encoding>HLAvariableArray</encoding>
                <semantics>A set of control actions for the federate implementing the service.</semantics>
            </arrayData>
            <arrayData>
                <name>EntityControlActions</name>
                <dataType>EntityControlActionEnum</dataType>
                <cardinality>Dynamic</cardinality>
                <encoding>HLAvariableArray</encoding>
                <semantics>A set of control actions relevant to individual entities in the simulation.</semantics>
            </arrayData>
        </arrayDataTypes>
    </dataTypes>
    <notes>
        <note>
            <label>netn-smc_overview</label>
            <semantics>## Overview 
The module defines three (3) basic control actions 
 
* Use the `SMC_FederationControl` for actions intended for all federates in the federation. 
* Use `SMC_FederateControl` for  actions intended for a known federate 
* Use `SMC_EntityControl` for actions related to a specific simulation entity. The interaction is expected to be processed by the federate with the modelling responsibility for the entity. 
 
When sending a `SMC_FederateControl` or `SMC_EntityControl` action, the receiving federate shall respond to the action using a `SMC_Response` interaction to indicate success or failure to accept or achieve the action. 

```mermaid 
sequenceDiagram 
autonumber
TaskingFederate-&gt;&gt;EntityFederate:SMC_EntityControl(entity) 
EntityFederate-&gt;&gt;TaskingFederate:SMC_Response(true/false) 
```
 
## Federate Control Action

To send a control action to a specific federate, use the `SMC_FederateControl` interaction with a parameter identifying the federate by its name.

If a federate control action is sent to a federate that is not compliant with NETN-SMC, there will be no response, and it will be hard to determine if or when the control action is successfully received. 

Federates publish support actions using the `SMC_Service` object attribute `SupportedActions`. If available, this information shall be used before sending a federate control action to check whether the action is supported.

All NETN-SMC-compliant federates must also respond to all federate control actions using the `SMC_Response` interaction, regardless of whether the action is supported.

## Entity Control Action

To send a control action to a specific simulation entity, use the `SMC_EntityControl` interaction with a parameter identifying the entity by its unique identifier. The federate with the referenced entity's primary modelling responsibility is the receiver and should perform the action.

If the federate with the primary responsibility of the referenced entity is not compliant with NETN-SMC, there will be no response, and it will be hard to determine if or when the control action is successfully received. Therefore, supported actions are published using the `BaseEntity` object class attribute. Before sending a `SMC_EntityControl`, use the `BaseEntity` object attribute `SupportedActions` to determine if the referenced entity supports the action.</semantics>
        </note>
        <note>
            <label>netn-smc_changelog</label>
            <semantics>Initial Version</semantics>
        </note>
    </notes>
</objectModel>
